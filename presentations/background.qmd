**Question:** What event has most contributed to Maryland gymnastics' losses in recent seasons? How does that compare to other teams in the Big Ten?

There is a data set that exists with the NCAA women's gymnastics scores from the last ten years from the [Road to Nationals site.](https://roadtonationals.com/results/standings/) I downloaded it and put it into this folder. I think this data should have all of the scores I need to determine the events most impacting Maryland's performance and compare it to other teams in the conference.

If this data does not work, most of the data is on Maryland gymnastics' site, but that would require more to clean up and combine into one set.

Examples:

<https://dbknews.com/2024/02/26/maryland-gymnastics-big-five-season-low/>

This story explains a meet where Maryland performed badly, which could help me in identifying what trends might be best to look into when looking at their overall data.

<https://dbknews.com/2024/04/30/maryland-gymnastics-2024-season-recap/>

This story explains how Maryland managed to improve their performance after looking shaky mid-season. This could also be helpful in identifying certain events to look at when analyzing the data.

I can't find any stories that do any kind of in-depth data analysis covering several years regarding Maryland's performance.

```{r}
library(RSQLite)
library(tidyverse)
library(DBI)

db <- dbConnect(RSQLite::SQLite(), "gymternet.db")


dbListTables(db)

teams <- dbGetQuery(db, 'SELECT * FROM teams')
gymnasts <- dbGetQuery(db, 'SELECT * FROM gymnasts')
gymnast_results <- dbGetQuery(db, 'SELECT * FROM gymnast_results')
meets <- dbGetQuery(db, 'SELECT * FROM meets')
team_results <- dbGetQuery(db, 'SELECT * FROM team_results')
```

Joining tables

```{r}
name_results <- inner_join(gymnasts, gymnast_results, by='gymnast_id')

team_name_results <- inner_join(teams, team_results, by='team_id')

team_name_results <- inner_join(team_name_results, meets)
```

```{r}
gymnast_results_by_meet <- inner_join(name_results, meets)

gymnast_results_by_meet <- inner_join(gymnast_results_by_meet, teams)
```

I have created two larger tables to evaluate this data: a table with each individual gymnast's scores on each competition at every meet they competed at, and a separate table with every team's total scores at every meet from 2015 to 2024.

```{r}
team_name_results |>
  group_by(year) |>
  summarise(
    total = n()
  )
```

```{r}
team_name_results |>
  group_by(team_name) |>
  summarise(
    total = n()
  )
```

```{r}
big_ten_results <- team_name_results|> filter(team_name == "Michigan State" | team_name=="Michigan" |team_name=="Ohio State"|team_name=="Minnesota"|team_name=="Nebraska"|team_name=="Illinois"|team_name=="Penn State"|team_name=="Maryland"|team_name=="Iowa"|team_name=="Rutgers")

big_ten_results |>
  group_by(team_name) |>
  summarise(
    total_meets = n()
  )
```

```{r}
big_ten_athletes <- gymnast_results_by_meet|> filter(team_name == "Michigan State" | team_name=="Michigan" |team_name=="Ohio State"|team_name=="Minnesota"|team_name=="Nebraska"|team_name=="Illinois"|team_name=="Penn State"|team_name=="Maryland"|team_name=="Iowa"|team_name=="Rutgers")
```

```{r}
big_ten_avg <- big_ten_results|>
  group_by(team_name) |>
  summarise(
    total_meets = n(),
    total_scores = sum(team_score),
    avg_score = sum(team_score)/total_meets
  )
```

```{r}
ggplot() +
  geom_bar(data=big_ten_avg, 
           aes(x=reorder(team_name, avg_score), weight=avg_score)) + coord_flip()
```

```{r}
md_results <- big_ten_results |>
  filter(team_name=="Maryland") |>
  group_by(year) |>
  summarise(
    avg_bb = mean(bb_score),
    avg_ub = mean(ub_score),
    avg_fx = mean(fx_score),
    avg_vt = mean(vt_score),
    avg_total = mean(team_score)
  ) |>
  arrange(desc(avg_total))

md_results
```
